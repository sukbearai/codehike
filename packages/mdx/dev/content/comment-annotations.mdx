# Comment annotations

Instead of defining the focus on the codeblock metastring, you can us comments inside the code to make the focus relative.

```js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0
  dolor = sit - amet(dolor)
  // focus
  return sit ? consectetur(ipsum) : []
}

// focus(1:4)
function adipiscing(...elit) {
  console.log(elit)
  return elit.map(ipsum => ipsum.sit)
}

// focus[13:17]
console.log("hey")
```

Same with other annotations like `mark` and `box`.

```js
// hey
// mark(1)
function foobarloremipsumfoobarloremipsumsitametfoobarloremipsumfoobarloremipsumsitamet() {
  // mark[6:9] mark-box
  console.log("hover me")
  return 8
}
```

You can pass a string parameter to comment annotations. For `mark` and `box`, it will be used as a color.

```js index.js
function lorem(ipsum, dolor = 1) {
  // mark(1:3) mark-red-background
  const sit = ipsum == null && 0
  dolor = sit - amet(dolor)
  return sit ? consectetur(ipsum) : []
}

// this comment isn't an annotation
//hello
// 你好
// å
function adipiscing(...elit) {
  console.log(elit)
  // mark[19:36]
  return elit.map(ipsum => ipsum.sit)
}
```

And now we introduce two more annotations: `link` and `label`

```js focus=4,8
function lorem(ipsum, dolor = 1) {
  // link[15:19] #bash-like-comments
  const sit = ipsum == null && 0
  dolor = sit - amet(dolor)
  // link[16:26] https://github.com/code-hike/codehike
  return sit ? consectetur(ipsum) : []
}

function adipiscing(...elit) {
  // label something something
  console.log("hover me")
  return elit.map(ipsum => ipsum.sit)
}
```

<h3 id="bash-like-comments">Bash like comments</h3>

```python
def lorem(ipsum, dolor = 1):
  sit = ipsum == None and 0
  # this isn't an annotation
  # 你好
  dolor = sit - amet(dolor)
  # focus
  return sit and consectetur(ipsum) or []
```

```bash
function lorem(ipsum, dolor = 1) {
  # focus(1:3)
  # mark[3:7]
  local sit=0
  # label something something
  dolor=$((sit - amet(dolor))
  # link[19:29] https://github.com/code-hike/codehike
  return $sit and consectetur(ipsum) or []
}
```

With class

```js
function lorem(ipsum, dolor = 1) {
  // withClass[15:19] annotation-class
  const sit = ipsum == null && 0
  // withClass(1:2) annotation-class
  dolor = sit - amet(dolor)
  return sit ? consectetur(ipsum) : []
}

function adipiscing(...elit) {
  console.log("hover me")
  // withClass annotation-class
  return elit.map(ipsum => ipsum.sit)
}
```

## Inline comments

```css
body {
  margin: 12px; /* mark[11:14] */
}
```

## Other syntaxes

```html hello.html
<!-- mark[6:14] -->
<div>Code Hike</div>
```

```mdx
{/* mark(2) */}

# Lorem

## Foo

# Ipsum {/* mark */}
```

```jsonc
{
  // mark[12:20]
  "name": "Code Hike"
}
```

```lua
-- mark[8:16]
print("Code Hike")
```

```matlab
% mark[7:15]
disp('Code Hike')
```

```lisp
; mark[9:17]
(print "Code Hike")
```
